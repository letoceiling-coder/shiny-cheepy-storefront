# –ü–ª–∞–Ω –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ API: sadavod.loc ‚Üî Cheepy Admin Panel

**–î–∞—Ç–∞**: 25 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–ü—Ä–æ–µ–∫—Ç-–∏—Å—Ç–æ—á–Ω–∏–∫**: `C:\OSPanel\domains\sadavod` (http://sadavod.loc/)  
**–ü—Ä–æ–µ–∫—Ç-–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å**: `C:\OSPanel\domains\cheepy` (https://cheepy.siteaccess.ru/)  
**–î–æ–Ω–æ—Ä –¥–∞–Ω–Ω—ã—Ö**: https://sadovodbaza.ru/

---

## üìã –û–ë–ó–û–† –ê–†–•–ò–¢–ï–ö–¢–£–†–´

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              sadovodbaza.ru (–≤–Ω–µ—à–Ω–∏–π –¥–æ–Ω–æ—Ä)                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ HTTP –ø–∞—Ä—Å–∏–Ω–≥
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           sadavod.loc (PHP Backend API)                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  Parser     ‚îÇ  ‚îÇ Database ‚îÇ  ‚îÇ  REST API (JSON)      ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  Engine     ‚îÇ‚Üí ‚îÇ  SQLite/ ‚îÇ‚Üí ‚îÇ  /api/v1/*            ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  (existing) ‚îÇ  ‚îÇ  MySQL   ‚îÇ  ‚îÇ                      ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ fetch() / axios
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           Cheepy React Frontend                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ  Admin Panel ‚îÇ  ‚îÇ  User Pages                          ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  /admin/*    ‚îÇ  ‚îÇ  /category/* /product/* /seller/*    ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìÅ –ß–ê–°–¢–¨ 1: –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í BACKEND (sadavod.loc)

```
C:\OSPanel\domains\sadavod\
‚îú‚îÄ‚îÄ public/                          # webroot (http://sadavod.loc/)
‚îÇ   ‚îú‚îÄ‚îÄ index.php                    # frontend –∫–∞—Ç–∞–ª–æ–≥ (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
‚îÇ   ‚îú‚îÄ‚îÄ bootstrap.php                # bootstrap (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
‚îÇ   ‚îî‚îÄ‚îÄ api/                         # REST API
‚îÇ       ‚îú‚îÄ‚îÄ v1/                      # API v1
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ index.php            # —Ä–æ—É—Ç–µ—Ä –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ auth.php             # /api/v1/auth/*
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ parser.php           # /api/v1/parser/*
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ products.php         # /api/v1/products/*
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ categories.php       # /api/v1/categories/*
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ sellers.php          # /api/v1/sellers/*
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ brands.php           # /api/v1/brands/*
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ filters.php          # /api/v1/filters/*
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ excluded.php         # /api/v1/excluded/*
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ scheduler.php        # /api/v1/scheduler/*
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ai.php               # /api/v1/ai/*
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ logs.php             # /api/v1/logs/*
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ settings.php         # /api/v1/settings/*
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ roles.php            # /api/v1/roles/*
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ dashboard.php        # /api/v1/dashboard/*
‚îÇ       ‚îú‚îÄ‚îÄ menu.php                 # —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
‚îÇ       ‚îî‚îÄ‚îÄ products.php             # —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ Services/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SadovodParser/           # —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä—Å–µ—Ä—ã
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ SadovodParserService.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ HttpClient.php
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ Parsers/
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ MenuParser.php
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ CatalogParser.php
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ ProductParser.php
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ SellerParser.php
‚îÇ   ‚îú‚îÄ‚îÄ Api/                         # –ù–û–í–û–ï: API —Å–ª–æ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Router.php               # HTTP —Ä–æ—É—Ç–µ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Request.php              # –û–±–µ—Ä—Ç–∫–∞ HTTP –∑–∞–ø—Ä–æ—Å–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Response.php             # JSON –æ—Ç–≤–µ—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Middleware/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthMiddleware.php   # JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CorsMiddleware.php   # CORS –¥–ª—è React
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RateLimitMiddleware.php
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Controllers/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ AuthController.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ DashboardController.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ParserController.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ProductsController.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ CategoriesController.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ SellersController.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ BrandsController.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ FiltersController.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ExcludedController.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ SchedulerController.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ AiController.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ LogsController.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ SettingsController.php
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ RolesController.php
‚îÇ   ‚îî‚îÄ‚îÄ Database/
‚îÇ       ‚îú‚îÄ‚îÄ Database.php             # PDO –æ–±–µ—Ä—Ç–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ Schema.php               # –°—Ö–µ–º–∞ –ë–î –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ       ‚îî‚îÄ‚îÄ Seeder.php               # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ sadovod.php                  # —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ database.php                 # –ù–û–í–û–ï: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ api.php                      # –ù–û–í–û–ï: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API
‚îÇ   ‚îî‚îÄ‚îÄ scheduler.php                # –ù–û–í–û–ï: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
‚îú‚îÄ‚îÄ storage/
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sadavod.sqlite           # SQLite –ë–î (–∏–ª–∏ MySQL)
‚îÇ   ‚îú‚îÄ‚îÄ logs/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ parser.log               # –ª–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ exports/                     # CSV/JSON —ç–∫—Å–ø–æ—Ä—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ uploads/                     # –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ run-parser.php               # —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ run-scheduler.php            # –ù–û–í–û–ï: –∑–∞–ø—É—Å–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ run-ai.php                   # –ù–û–í–û–ï: –∑–∞–ø—É—Å–∫ AI –∑–∞–¥–∞—á
‚îú‚îÄ‚îÄ database.sqlite                  # –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MySQL
‚îú‚îÄ‚îÄ .env                             # –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .htaccess                        # mod_rewrite –¥–ª—è API
‚îî‚îÄ‚îÄ composer.json                    # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

---

## üóÑÔ∏è –ß–ê–°–¢–¨ 2: –°–•–ï–ú–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•

### –¢–∞–±–ª–∏—Ü–∞: `products`
```sql
CREATE TABLE products (
    id          INTEGER PRIMARY KEY AUTOINCREMENT,
    external_id VARCHAR(50) UNIQUE NOT NULL,     -- ID —Å sadovodbaza.ru
    source_url  TEXT NOT NULL,                   -- –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π URL
    title       TEXT NOT NULL,
    price       VARCHAR(100),
    price_raw   INTEGER,                          -- —Ü–µ–Ω–∞ –≤ –∫–æ–ø–µ–π–∫–∞—Ö
    description TEXT,
    photos      TEXT,                            -- JSON –º–∞—Å—Å–∏–≤ URL —Ñ–æ—Ç–æ
    characteristics TEXT,                        -- JSON –æ–±—ä–µ–∫—Ç: color, size, ...
    category_id INTEGER REFERENCES categories(id),
    seller_id   INTEGER REFERENCES sellers(id),
    category_slugs TEXT,                         -- JSON –º–∞—Å—Å–∏–≤ slug'–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
    
    -- –°—Ç–∞—Ç—É—Å –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
    status      VARCHAR(20) DEFAULT 'active',    -- active, hidden, excluded, error
    is_relevant BOOLEAN DEFAULT 1,
    relevance_checked_at DATETIME,
    
    -- AI –ø–æ–ª—è
    ai_title    TEXT,                            -- AI-–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫
    ai_description TEXT,                         -- AI-–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
    ai_seo_title TEXT,
    ai_seo_description TEXT,
    ai_processed BOOLEAN DEFAULT 0,
    
    -- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    parsed_at   DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at  DATETIME DEFAULT CURRENT_TIMESTAMP,
    
    -- –§–∏–ª—å—Ç—Ä—ã (–¥–ª—è –ø–æ–∏—Å–∫–∞)
    color       VARCHAR(100),                    -- –∏–∑–≤–ª–µ—á–µ–Ω –∏–∑ characteristics
    size_range  VARCHAR(100),                    -- –∏–∑–≤–ª–µ—á–µ–Ω –∏–∑ characteristics
    brand_id    INTEGER REFERENCES brands(id)
);

CREATE INDEX idx_products_category ON products(category_id);
CREATE INDEX idx_products_seller ON products(seller_id);
CREATE INDEX idx_products_status ON products(status);
CREATE INDEX idx_products_external ON products(external_id);
CREATE INDEX idx_products_brand ON products(brand_id);
CREATE INDEX idx_products_parsed_at ON products(parsed_at);
```

### –¢–∞–±–ª–∏—Ü–∞: `categories`
```sql
CREATE TABLE categories (
    id              INTEGER PRIMARY KEY AUTOINCREMENT,
    external_slug   VARCHAR(200) UNIQUE,         -- slug —Å donora
    name            VARCHAR(500) NOT NULL,
    slug            VARCHAR(500) NOT NULL,
    url             TEXT,
    parent_id       INTEGER REFERENCES categories(id),
    sort_order      INTEGER DEFAULT 0,
    
    -- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
    enabled         BOOLEAN DEFAULT 1,
    linked_to_parser BOOLEAN DEFAULT 0,          -- –≤–∫–ª—é—á–µ–Ω–∞ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
    parser_products_limit INTEGER DEFAULT 0,     -- –ª–∏–º–∏—Ç —Ç–æ–≤–∞—Ä–æ–≤ (0=–≤—Å–µ)
    parser_depth_limit INTEGER DEFAULT 0,        -- –≥–ª—É–±–∏–Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
    
    -- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    icon            VARCHAR(50),
    products_count  INTEGER DEFAULT 0,
    parsed_at       DATETIME,
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at      DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_categories_parent ON categories(parent_id);
CREATE INDEX idx_categories_slug ON categories(slug);
CREATE INDEX idx_categories_enabled ON categories(enabled);
```

### –¢–∞–±–ª–∏—Ü–∞: `sellers`
```sql
CREATE TABLE sellers (
    id          INTEGER PRIMARY KEY AUTOINCREMENT,
    slug        VARCHAR(200) UNIQUE NOT NULL,
    name        VARCHAR(500) NOT NULL,
    url         TEXT,
    pavilion    VARCHAR(200),                    -- –∫–æ—Ä–ø—É—Å/–ø–∞–≤–∏–ª—å–æ–Ω
    description TEXT,
    
    -- –ö–æ–Ω—Ç–∞–∫—Ç—ã
    phone       VARCHAR(50),
    whatsapp    VARCHAR(200),
    telegram    VARCHAR(200),
    
    -- –†–µ–π—Ç–∏–Ω–≥ –∏ —Å—Ç–∞—Ç—É—Å
    status      VARCHAR(20) DEFAULT 'active',
    is_verified BOOLEAN DEFAULT 0,
    rating      DECIMAL(3,2) DEFAULT 0,
    products_count INTEGER DEFAULT 0,
    
    -- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    parsed_at   DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at  DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_sellers_slug ON sellers(slug);
CREATE INDEX idx_sellers_status ON sellers(status);
```

### –¢–∞–±–ª–∏—Ü–∞: `brands`
```sql
CREATE TABLE brands (
    id          INTEGER PRIMARY KEY AUTOINCREMENT,
    name        VARCHAR(500) NOT NULL,
    slug        VARCHAR(200) UNIQUE NOT NULL,
    logo_url    TEXT,
    status      VARCHAR(20) DEFAULT 'active',
    
    -- SEO
    seo_title   TEXT,
    seo_description TEXT,
    
    -- –ú–∞–ø–ø–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
    category_ids TEXT,                          -- JSON –º–∞—Å—Å–∏–≤ category_id
    
    created_at  DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at  DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### –¢–∞–±–ª–∏—Ü–∞: `excluded_rules`
```sql
CREATE TABLE excluded_rules (
    id          INTEGER PRIMARY KEY AUTOINCREMENT,
    word        TEXT NOT NULL,
    type        VARCHAR(20) NOT NULL,           -- word, phrase, regex
    action      VARCHAR(20) NOT NULL,           -- delete, replace, hide, flag
    scope       VARCHAR(30) NOT NULL,           -- global, category, product_type, temporary
    replacement TEXT,                           -- –¥–ª—è action=replace
    category_id INTEGER REFERENCES categories(id),
    product_type VARCHAR(100),
    match_count INTEGER DEFAULT 0,
    
    enabled     BOOLEAN DEFAULT 1,
    expires_at  DATETIME,                       -- –¥–ª—è scope=temporary
    created_at  DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_excluded_scope ON excluded_rules(scope);
CREATE INDEX idx_excluded_enabled ON excluded_rules(enabled);
```

### –¢–∞–±–ª–∏—Ü–∞: `filters_config`
```sql
CREATE TABLE filters_config (
    id           INTEGER PRIMARY KEY AUTOINCREMENT,
    attribute_id VARCHAR(100) NOT NULL,         -- color, size, price, etc.
    attribute_name VARCHAR(500),
    category_id  INTEGER REFERENCES categories(id),
    display_type VARCHAR(30) NOT NULL,          -- checkbox, select, multiselect, range
    sort_order   INTEGER DEFAULT 0,
    enabled      BOOLEAN DEFAULT 1,
    
    -- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (–¥–ª—è type=range)
    range_min    DECIMAL(15,2),
    range_max    DECIMAL(15,2),
    
    created_at   DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### –¢–∞–±–ª–∏—Ü–∞: `parser_config`
```sql
CREATE TABLE parser_config (
    id               INTEGER PRIMARY KEY AUTOINCREMENT,
    key              VARCHAR(200) UNIQUE NOT NULL,
    value            TEXT,
    type             VARCHAR(30) DEFAULT 'string', -- string, integer, boolean, json
    description      TEXT,
    updated_at       DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
-- base_url = 'https://sadovodbaza.ru'
-- request_delay_ms = 500
-- verify_ssl = false
-- with_photos = true
-- save_to_db = true
-- preview_only = false
-- auto_check_relevance = true
-- retry_on_error = true
-- categories_limit = 0
-- products_per_cat_limit = 0
-- depth_limit = 0
-- record_limit = 0
-- thread_limit = 1
-- cron_expression = '0 */6 * * *'
-- exclude_menu_links = '["/link/3"]'
-- exclude_menu_text = '["–ñ–µ–Ω—Å–∫–∞—è –æ–¥–µ–∂–¥–∞ –¢–ì"]'
-- staleness_threshold_days = 30
-- auto_disable_stale = true
-- update_prices = true
-- user_agent = 'Mozilla/5.0...'
```

### –¢–∞–±–ª–∏—Ü–∞: `parser_jobs`
```sql
CREATE TABLE parser_jobs (
    id           INTEGER PRIMARY KEY AUTOINCREMENT,
    status       VARCHAR(30) DEFAULT 'pending', -- pending, running, done, failed, stopped
    type         VARCHAR(30) DEFAULT 'full',    -- full, menu_only, category, product, seller
    
    -- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞
    options      TEXT,                          -- JSON: categories_limit, etc.
    
    -- –ü—Ä–æ–≥—Ä–µ—Å—Å
    total_items  INTEGER DEFAULT 0,
    processed    INTEGER DEFAULT 0,
    progress     INTEGER DEFAULT 0,             -- 0-100
    
    -- –†–µ–∑—É–ª—å—Ç–∞—Ç
    items_parsed INTEGER DEFAULT 0,
    items_saved  INTEGER DEFAULT 0,
    items_skipped INTEGER DEFAULT 0,
    errors_count INTEGER DEFAULT 0,
    
    -- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
    started_at   DATETIME,
    finished_at  DATETIME,
    created_at   DATETIME DEFAULT CURRENT_TIMESTAMP,
    
    -- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∑–∞–ø—É—Å—Ç–∏–≤—à–∏–π
    triggered_by VARCHAR(100) DEFAULT 'manual'  -- manual, scheduler, api
);

CREATE INDEX idx_parser_jobs_status ON parser_jobs(status);
CREATE INDEX idx_parser_jobs_created ON parser_jobs(created_at);
```

### –¢–∞–±–ª–∏—Ü–∞: `parser_logs`
```sql
CREATE TABLE parser_logs (
    id         INTEGER PRIMARY KEY AUTOINCREMENT,
    job_id     INTEGER REFERENCES parser_jobs(id),
    level      VARCHAR(10) NOT NULL,            -- info, warn, error
    module     VARCHAR(100),                    -- Parser, Catalog, Product, Seller, AI
    message    TEXT NOT NULL,
    details    TEXT,
    timestamp  DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_logs_job ON parser_logs(job_id);
CREATE INDEX idx_logs_level ON parser_logs(level);
CREATE INDEX idx_logs_timestamp ON parser_logs(timestamp);
```

### –¢–∞–±–ª–∏—Ü–∞: `scheduler_tasks`
```sql
CREATE TABLE scheduler_tasks (
    id             INTEGER PRIMARY KEY AUTOINCREMENT,
    name           VARCHAR(300) NOT NULL,
    type           VARCHAR(30) NOT NULL,        -- parsing, relevance, ai_processing
    cron_expression VARCHAR(100) NOT NULL,
    enabled        BOOLEAN DEFAULT 1,
    
    -- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–¥–∞—á–∏ (JSON)
    options        TEXT,
    
    -- –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    status         VARCHAR(20) DEFAULT 'idle',  -- idle, running, error
    last_run       DATETIME,
    next_run       DATETIME,
    last_result    TEXT,                        -- JSON —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞
    
    created_at     DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at     DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### –¢–∞–±–ª–∏—Ü–∞: `ai_tasks`
```sql
CREATE TABLE ai_tasks (
    id         INTEGER PRIMARY KEY AUTOINCREMENT,
    product_id INTEGER REFERENCES products(id),
    type       VARCHAR(30) NOT NULL,            -- title, description, seo, image, moderation, analysis
    status     VARCHAR(20) DEFAULT 'queued',    -- queued, processing, done, error
    
    -- AI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    model      VARCHAR(50),
    prompt     TEXT,
    result     TEXT,
    error      TEXT,
    tokens_used INTEGER,
    
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    processed_at DATETIME
);

CREATE INDEX idx_ai_tasks_product ON ai_tasks(product_id);
CREATE INDEX idx_ai_tasks_status ON ai_tasks(status);
```

### –¢–∞–±–ª–∏—Ü–∞: `users` –∏ `roles`
```sql
CREATE TABLE roles (
    id          INTEGER PRIMARY KEY AUTOINCREMENT,
    name        VARCHAR(100) UNIQUE NOT NULL,
    permissions TEXT                             -- JSON –º–∞—Å—Å–∏–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
);

CREATE TABLE users (
    id          INTEGER PRIMARY KEY AUTOINCREMENT,
    username    VARCHAR(200) UNIQUE NOT NULL,
    email       VARCHAR(300) UNIQUE NOT NULL,
    password    VARCHAR(300) NOT NULL,           -- bcrypt hash
    role_id     INTEGER REFERENCES roles(id),
    status      VARCHAR(20) DEFAULT 'active',
    last_login  DATETIME,
    created_at  DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE api_tokens (
    id         INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id    INTEGER REFERENCES users(id),
    token      VARCHAR(500) UNIQUE NOT NULL,    -- JWT –∏–ª–∏ random token
    expires_at DATETIME,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### –¢–∞–±–ª–∏—Ü–∞: `settings`
```sql
CREATE TABLE settings (
    id          INTEGER PRIMARY KEY AUTOINCREMENT,
    key         VARCHAR(200) UNIQUE NOT NULL,
    value       TEXT,
    type        VARCHAR(30) DEFAULT 'string',
    group       VARCHAR(100),                    -- general, security, ai, parser
    description TEXT,
    updated_at  DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

---

## üîå –ß–ê–°–¢–¨ 3: API ENDPOINTS

### CORS –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```
Origin: https://cheepy.siteaccess.ru ‚Üí http://sadavod.loc
Authorization: Bearer <JWT_TOKEN>
Content-Type: application/json
```

---

### 3.1 Auth API
```
POST   /api/v1/auth/login              # –ª–æ–≥–∏–Ω ‚Üí JWT —Ç–æ–∫–µ–Ω
POST   /api/v1/auth/logout             # –≤—ã—Ö–æ–¥
POST   /api/v1/auth/refresh            # –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω
GET    /api/v1/auth/me                 # —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```

---

### 3.2 Dashboard API
```
GET    /api/v1/dashboard               # —Å–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```
**Response:**
```json
{
  "totalProducts": 15420,
  "newToday": 342,
  "disabled": 125,
  "errors": 8,
  "totalSellers": 890,
  "totalCategories": 42,
  "lastParserRun": "2026-02-25T14:30:00Z",
  "parserStatus": "idle",
  "aiStatus": "active",
  "schedulerStatus": "running",
  "recentLogs": [...],
  "topCategories": [...],
  "parseStats": {
    "today": 342,
    "week": 2140,
    "month": 8900
  }
}
```

---

### 3.3 Parser API
```
GET    /api/v1/parser/status           # —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø–∞—Ä—Å–µ—Ä–∞
GET    /api/v1/parser/config           # –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥
PUT    /api/v1/parser/config           # –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥
POST   /api/v1/parser/start            # –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–µ—Ä
POST   /api/v1/parser/stop             # –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
POST   /api/v1/parser/restart          # –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
GET    /api/v1/parser/jobs             # –∏—Å—Ç–æ—Ä–∏—è –∑–∞–ø—É—Å–∫–æ–≤
GET    /api/v1/parser/jobs/{id}        # –¥–µ—Ç–∞–ª–∏ –∑–∞–ø—É—Å–∫–∞
GET    /api/v1/parser/jobs/{id}/logs   # –ª–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
DELETE /api/v1/parser/jobs/{id}        # —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å

POST   /api/v1/parser/run-menu         # —Ç–æ–ª—å–∫–æ –º–µ–Ω—é
POST   /api/v1/parser/run-category     # –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
POST   /api/v1/parser/run-product      # –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–≤–∞—Ä
POST   /api/v1/parser/run-seller       # –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ–¥–∞–≤–µ—Ü
```

**POST /api/v1/parser/start body:**
```json
{
  "menu_only": false,
  "categories_limit": 5,
  "products_per_cat": 20,
  "parse_details": true,
  "parse_sellers": true,
  "with_photos": true,
  "save_to_db": true,
  "preview_only": false,
  "retry_on_error": true,
  "category_slugs": ["jenskaya-odezhda", "obuv"],
  "depth_limit": 0,
  "record_limit": 0,
  "thread_limit": 1
}
```

**GET /api/v1/parser/status response:**
```json
{
  "isRunning": true,
  "jobId": 42,
  "progress": 45,
  "processedCount": 154,
  "totalCount": 342,
  "currentItem": "–ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ü–ª–∞—Ç—å—è",
  "startedAt": "2026-02-25T14:30:00Z",
  "estimatedFinish": "2026-02-25T15:15:00Z",
  "itemsSaved": 148,
  "errorsCount": 2
}
```

---

### 3.4 Products API
```
GET    /api/v1/products                # —Å–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
GET    /api/v1/products/{id}           # –¥–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞
PUT    /api/v1/products/{id}           # —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä
DELETE /api/v1/products/{id}           # —É–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä
POST   /api/v1/products/{id}/hide      # —Å–∫—Ä—ã—Ç—å —Ç–æ–≤–∞—Ä
POST   /api/v1/products/{id}/restore   # –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
POST   /api/v1/products/bulk-action    # –º–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
GET    /api/v1/products/export         # —ç–∫—Å–ø–æ—Ä—Ç CSV/JSON
POST   /api/v1/products/check-relevance # –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å
```

**GET /api/v1/products query params:**
```
?page=1
&per_page=20
&category_id=5
&seller_id=10
&brand_id=3
&status=active           (active|hidden|excluded|error)
&search=–ø–ª–∞—Ç—å–µ
&price_min=100
&price_max=5000
&color=–∫—Ä–∞—Å–Ω—ã–π
&has_photos=1
&ai_processed=0
&parsed_from=2026-02-01
&parsed_to=2026-02-25
&sort=price_asc          (price_asc|price_desc|title|parsed_at|relevance)
```

**Response:**
```json
{
  "data": [
    {
      "id": 1,
      "externalId": "13588999",
      "title": "–ü–ª–∞—Ç—å–µ",
      "price": "900 ‚ÇΩ",
      "priceRaw": 90000,
      "photos": ["https://..."],
      "status": "active",
      "category": { "id": 1, "name": "–ñ–µ–Ω—Å–∫–∞—è –æ–¥–µ–∂–¥–∞" },
      "seller": { "id": 5, "name": "SAVORI LUXURY" },
      "brand": null,
      "characteristics": { "color": "–∫—Ä–∞—Å–Ω—ã–π", "size": "42-46" },
      "isRelevant": true,
      "parsedAt": "2026-02-25T14:30:00Z"
    }
  ],
  "meta": {
    "total": 15420,
    "page": 1,
    "perPage": 20,
    "totalPages": 772
  }
}
```

---

### 3.5 Categories API
```
GET    /api/v1/categories              # –¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
GET    /api/v1/categories/{id}         # –¥–µ—Ç–∞–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
POST   /api/v1/categories              # —Å–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
PUT    /api/v1/categories/{id}         # –æ–±–Ω–æ–≤–∏—Ç—å
DELETE /api/v1/categories/{id}         # —É–¥–∞–ª–∏—Ç—å
POST   /api/v1/categories/{id}/toggle  # –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å
POST   /api/v1/categories/{id}/link-parser   # –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫ –ø–∞—Ä—Å–µ—Ä—É
POST   /api/v1/categories/reorder      # –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫
POST   /api/v1/categories/sync-from-parser   # —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å –ø–∞—Ä—Å–µ—Ä–æ–º
```

**Response (tree):**
```json
{
  "data": [
    {
      "id": 1,
      "name": "–ñ–µ–Ω—Å–∫–∞—è –æ–¥–µ–∂–¥–∞",
      "slug": "jenskaya-odezhda",
      "externalSlug": "jenskaya-odezhda",
      "parentId": null,
      "sortOrder": 0,
      "enabled": true,
      "linkedToParser": true,
      "productsCount": 1240,
      "icon": "dress",
      "children": [
        {
          "id": 2,
          "name": "–ü–ª–∞—Ç—å—è",
          "slug": "platya",
          ...
        }
      ]
    }
  ]
}
```

---

### 3.6 Sellers API
```
GET    /api/v1/sellers                 # —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
GET    /api/v1/sellers/{id}            # –¥–µ—Ç–∞–ª–∏ –ø—Ä–æ–¥–∞–≤—Ü–∞
PUT    /api/v1/sellers/{id}            # –æ–±–Ω–æ–≤–∏—Ç—å
DELETE /api/v1/sellers/{id}            # —É–¥–∞–ª–∏—Ç—å
POST   /api/v1/sellers/{id}/verify     # –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å
GET    /api/v1/sellers/{id}/products   # —Ç–æ–≤–∞—Ä—ã –ø—Ä–æ–¥–∞–≤—Ü–∞
GET    /api/v1/sellers/export          # —ç–∫—Å–ø–æ—Ä—Ç
```

**Query params:**
```
?search=–Ω–∞–∑–≤–∞–Ω–∏–µ
&status=active
&is_verified=1
&category_id=1
&has_phone=1
&sort=products_count_desc
&page=1
```

---

### 3.7 Brands API
```
GET    /api/v1/brands                  # —Å–ø–∏—Å–æ–∫ –±—Ä–µ–Ω–¥–æ–≤
GET    /api/v1/brands/{id}             # –¥–µ—Ç–∞–ª–∏
POST   /api/v1/brands                  # —Å–æ–∑–¥–∞—Ç—å
PUT    /api/v1/brands/{id}             # –æ–±–Ω–æ–≤–∏—Ç—å
DELETE /api/v1/brands/{id}             # —É–¥–∞–ª–∏—Ç—å
POST   /api/v1/brands/{id}/toggle      # –≤–∫–ª/–≤—ã–∫–ª
```

---

### 3.8 Filters API
```
GET    /api/v1/filters                 # –≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã
POST   /api/v1/filters                 # —Å–æ–∑–¥–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä
PUT    /api/v1/filters/{id}            # –æ–±–Ω–æ–≤–∏—Ç—å
DELETE /api/v1/filters/{id}            # —É–¥–∞–ª–∏—Ç—å
POST   /api/v1/filters/{id}/toggle     # –≤–∫–ª/–≤—ã–∫–ª
GET    /api/v1/filters/attributes      # –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

GET    /api/v1/products/facets         # –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ
```

**–ê—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:**
- `price` ‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω
- `color` ‚Äî —Ü–≤–µ—Ç–∞
- `size` ‚Äî —Ä–∞–∑–º–µ—Ä—ã
- `category_id` ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- `seller_id` ‚Äî –ø—Ä–æ–¥–∞–≤–µ—Ü
- `brand_id` ‚Äî –±—Ä–µ–Ω–¥
- `has_photos` ‚Äî –Ω–∞–ª–∏—á–∏–µ —Ñ–æ—Ç–æ
- `is_relevant` ‚Äî –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å

---

### 3.9 Excluded Rules API
```
GET    /api/v1/excluded                # —Å–ø–∏—Å–æ–∫ –ø—Ä–∞–≤–∏–ª
POST   /api/v1/excluded                # —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ
PUT    /api/v1/excluded/{id}           # –æ–±–Ω–æ–≤–∏—Ç—å
DELETE /api/v1/excluded/{id}           # —É–¥–∞–ª–∏—Ç—å
POST   /api/v1/excluded/apply          # –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ –≤—Å–µ–º —Ç–æ–≤–∞—Ä–∞–º
GET    /api/v1/excluded/preview        # –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π

```

**POST body:**
```json
{
  "word": "–¥—É–±–ª–∏—Ä—É—é",
  "type": "word",              // word | phrase | regex
  "action": "delete",          // delete | replace | hide | flag
  "scope": "global",           // global | category | product_type | temporary
  "replacement": "",
  "categoryId": null,
  "productType": null,
  "expiresAt": null
}
```

---

### 3.10 Scheduler API
```
GET    /api/v1/scheduler/tasks         # —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
POST   /api/v1/scheduler/tasks         # —Å–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
PUT    /api/v1/scheduler/tasks/{id}    # –æ–±–Ω–æ–≤–∏—Ç—å
DELETE /api/v1/scheduler/tasks/{id}    # —É–¥–∞–ª–∏—Ç—å
POST   /api/v1/scheduler/tasks/{id}/toggle   # –≤–∫–ª/–≤—ã–∫–ª
POST   /api/v1/scheduler/tasks/{id}/run-now  # –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ–π—á–∞—Å
GET    /api/v1/scheduler/cron-parse    # —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å cron –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
```

**–¢–∏–ø—ã –∑–∞–¥–∞—á:**
- `parsing` ‚Äî –ø–æ–ª–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥
- `relevance` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏
- `ai_processing` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ AI
- `cleanup` ‚Äî –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `export` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —ç–∫—Å–ø–æ—Ä—Ç

---

### 3.11 AI API
```
GET    /api/v1/ai/config               # –ø–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ AI
PUT    /api/v1/ai/config               # –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
GET    /api/v1/ai/tasks                # –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á
POST   /api/v1/ai/tasks                # —Å–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
DELETE /api/v1/ai/tasks/{id}           # —É–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É
POST   /api/v1/ai/process-product/{id} # –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–≤–∞—Ä
POST   /api/v1/ai/batch-process        # –º–∞—Å—Å–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
GET    /api/v1/ai/stats                # —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—Ç–æ–∫–µ–Ω—ã, –∑–∞–¥–∞—á–∏)
```

**AI —Ñ—É–Ω–∫—Ü–∏–∏:**
- `title` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞
- `description` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è
- `seo` ‚Äî SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (title + description)
- `image` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (DALL-E)
- `moderation` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- `analysis` ‚Äî –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞
- `replace` ‚Äî –∑–∞–º–µ–Ω–∞ —Å–ª–æ–≤ –ø–æ excluded –ø—Ä–∞–≤–∏–ª–∞–º

---

### 3.12 Logs API
```
GET    /api/v1/logs                    # —Å–ø–∏—Å–æ–∫ –ª–æ–≥–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
GET    /api/v1/logs/{jobId}            # –ª–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è
GET    /api/v1/logs/export             # —ç–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤
DELETE /api/v1/logs/clear              # –æ—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏
```

**Query params:**
```
?level=error           (info|warn|error)
&module=Parser         (Parser|Catalog|Product|Seller|AI|Scheduler)
&search=keyword
&from=2026-02-25T00:00:00
&to=2026-02-25T23:59:59
&job_id=42
&page=1
```

---

### 3.13 Settings API
```
GET    /api/v1/settings                # –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
PUT    /api/v1/settings                # –æ–±–Ω–æ–≤–∏—Ç—å (batch)
GET    /api/v1/settings/{group}        # –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥—Ä—É–ø–ø—ã
GET    /api/v1/settings/export         # —ç–∫—Å–ø–æ—Ä—Ç CSV
POST   /api/v1/settings/import         # –∏–º–ø–æ—Ä—Ç CSV
POST   /api/v1/settings/check-relevance # –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏
```

**–ì—Ä—É–ø–ø—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫:**
- `general` ‚Äî –æ–±—â–∏–µ (site_name, parser_url)
- `security` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (rate_limit, xss_protection)
- `parser` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä—Å–µ—Ä–∞
- `ai` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ AI
- `relevance` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏

---

### 3.14 Roles API
```
GET    /api/v1/roles                   # —Å–ø–∏—Å–æ–∫ —Ä–æ–ª–µ–π
POST   /api/v1/roles                   # —Å–æ–∑–¥–∞—Ç—å —Ä–æ–ª—å
PUT    /api/v1/roles/{id}              # –æ–±–Ω–æ–≤–∏—Ç—å
DELETE /api/v1/roles/{id}              # —É–¥–∞–ª–∏—Ç—å
GET    /api/v1/users                   # —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
POST   /api/v1/users                   # —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
PUT    /api/v1/users/{id}              # –æ–±–Ω–æ–≤–∏—Ç—å
DELETE /api/v1/users/{id}              # —É–¥–∞–ª–∏—Ç—å
```

---

### 3.15 Public API (–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü Cheepy)
```
# –î–ª—è CategoryPage.tsx, ProductPage.tsx, SellerPage.tsx, BrandPage.tsx

GET    /api/v1/public/categories       # –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–¥–ª—è –º–µ–Ω—é)
GET    /api/v1/public/categories/{slug}/products  # —Ç–æ–≤–∞—Ä—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
GET    /api/v1/public/products         # –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
GET    /api/v1/public/products/{id}    # –¥–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞
GET    /api/v1/public/sellers          # —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
GET    /api/v1/public/sellers/{slug}   # —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞
GET    /api/v1/public/brands           # —Å–ø–∏—Å–æ–∫ –±—Ä–µ–Ω–¥–æ–≤
GET    /api/v1/public/brands/{slug}    # —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±—Ä–µ–Ω–¥–∞

# –î–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã Index.tsx
GET    /api/v1/public/featured         # –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
GET    /api/v1/public/new              # –Ω–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã
GET    /api/v1/public/hot-deals        # –≥–æ—Ä—è—á–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
GET    /api/v1/public/top-sellers      # —Ç–æ–ø –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
GET    /api/v1/public/search           # –ø–æ–∏—Å–∫
GET    /api/v1/public/facets           # –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
```

---

## ‚öôÔ∏è –ß–ê–°–¢–¨ 4: –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø BACKEND PHP

### 4.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ `/public/api/v1/index.php`
```php
<?php
// CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏
header('Access-Control-Allow-Origin: https://cheepy.siteaccess.ru');
header('Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS');
header('Access-Control-Allow-Headers: Authorization, Content-Type');
header('Content-Type: application/json; charset=utf-8');

if ($_SERVER['REQUEST_METHOD'] === 'OPTIONS') {
    http_response_code(204);
    exit;
}

require dirname(dirname(__DIR__)) . '/vendor/autoload.php';
require dirname(dirname(__DIR__)) . '/app/Api/bootstrap.php';

// –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
$router = new \App\Api\Router();

// Auth
$router->post('/auth/login',    [\App\Api\Controllers\AuthController::class, 'login']);
$router->get('/auth/me',        [\App\Api\Controllers\AuthController::class, 'me'], ['auth']);

// Dashboard
$router->get('/dashboard',      [\App\Api\Controllers\DashboardController::class, 'index'], ['auth']);

// Parser
$router->get('/parser/status',  [\App\Api\Controllers\ParserController::class, 'status'], ['auth']);
$router->put('/parser/config',  [\App\Api\Controllers\ParserController::class, 'updateConfig'], ['auth']);
$router->post('/parser/start',  [\App\Api\Controllers\ParserController::class, 'start'], ['auth']);
$router->post('/parser/stop',   [\App\Api\Controllers\ParserController::class, 'stop'], ['auth']);
// ... –∏ —Ç.–¥.

$router->dispatch();
```

### 4.2 –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞ –≤ —Ñ–æ–Ω–µ (Windows-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ)
```php
// ParserController::start()
public function start(): void {
    $options = $this->request->json();
    
    // –°–æ–∑–¥–∞–µ–º job –≤ –ë–î
    $jobId = $this->db->insert('parser_jobs', [
        'status' => 'pending',
        'options' => json_encode($options),
        'triggered_by' => 'manual'
    ]);
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º PHP –≤ —Ñ–æ–Ω–µ
    $cmd = sprintf(
        'php %s --job-id=%d > %s 2>&1',
        escapeshellarg(BASE_PATH . '/scripts/run-parser.php'),
        $jobId,
        escapeshellarg(BASE_PATH . '/storage/logs/parser-' . $jobId . '.log')
    );
    
    // Windows: popen, Unix: popen —Å &
    if (PHP_OS_FAMILY === 'Windows') {
        pclose(popen('start /B ' . $cmd, 'r'));
    } else {
        exec($cmd . ' &');
    }
    
    $this->response->json(['jobId' => $jobId, 'status' => 'started']);
}
```

### 4.3 SSE –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–∞—Ä—Å–µ—Ä–∞ (real-time)
```
GET /api/v1/parser/jobs/{id}/stream   # Server-Sent Events
```
```php
// –ö–ª–∏–µ–Ω—Ç —á–∏—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏:
header('Content-Type: text/event-stream');
header('Cache-Control: no-cache');
header('X-Accel-Buffering: no');

while (true) {
    $job = $db->fetch('SELECT * FROM parser_jobs WHERE id = ?', [$jobId]);
    echo "data: " . json_encode($job) . "\n\n";
    if (in_array($job['status'], ['done', 'failed', 'stopped'])) break;
    sleep(1);
    flush();
}
```

---

## üåê –ß–ê–°–¢–¨ 5: –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –í CHEEPY FRONTEND

### 5.1 API –∫–ª–∏–µ–Ω—Ç (–Ω–æ–≤—ã–π —Ñ–∞–π–ª `src/lib/api.ts`)
```typescript
const API_BASE = import.meta.env.VITE_API_URL || 'http://sadavod.loc/api/v1';

export const api = {
  async get<T>(path: string, params?: Record<string, unknown>): Promise<T> {
    const url = new URL(API_BASE + path);
    if (params) {
      Object.entries(params).forEach(([k, v]) => {
        if (v !== undefined && v !== null) url.searchParams.set(k, String(v));
      });
    }
    const res = await fetch(url.toString(), {
      headers: {
        Authorization: `Bearer ${localStorage.getItem('admin_token')}`,
        'Content-Type': 'application/json',
      },
    });
    if (!res.ok) throw new Error(await res.text());
    return res.json();
  },

  async post<T>(path: string, body?: unknown): Promise<T> { ... },
  async put<T>(path: string, body?: unknown): Promise<T> { ... },
  async delete<T>(path: string): Promise<T> { ... },
};
```

### 5.2 –•—É–∫–∏ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö (React Query)
```typescript
// src/hooks/admin/useParserStatus.ts
export function useParserStatus() {
  return useQuery({
    queryKey: ['parser-status'],
    queryFn: () => api.get('/parser/status'),
    refetchInterval: 2000,  // polling –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã –ø–æ–∫–∞ –∑–∞–ø—É—â–µ–Ω
  });
}

// src/hooks/admin/useProducts.ts
export function useProducts(filters: ProductFilters) {
  return useQuery({
    queryKey: ['products', filters],
    queryFn: () => api.get('/products', filters),
  });
}

// src/hooks/usePublicProducts.ts
export function usePublicProducts(categorySlug: string, page: number) {
  return useQuery({
    queryKey: ['public-products', categorySlug, page],
    queryFn: () => api.get('/public/categories/' + categorySlug + '/products', { page }),
    staleTime: 5 * 60 * 1000,  // –∫–µ—à 5 –º–∏–Ω—É—Ç
  });
}
```

### 5.3 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ admin —Å—Ç—Ä–∞–Ω–∏—Ü

**ParserPage.tsx** ‚Äî –∑–∞–º–µ–Ω–∏—Ç—å mock –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π API:
```typescript
const { data: status } = useParserStatus();
const { data: config } = useParserConfig();
const startMutation = useMutation(() => api.post('/parser/start', config));
const stopMutation = useMutation(() => api.post('/parser/stop'));
```

**ProductsPage.tsx:**
```typescript
const [filters, setFilters] = useState<ProductFilters>({});
const { data, isLoading } = useProducts(filters);
```

**CategoryPage.tsx (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è):**
```typescript
const { slug } = useParams();
const [page, setPage] = useState(1);
const { data } = usePublicProducts(slug!, page);
// ‚Üí —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î
```

---

## üì° –ß–ê–°–¢–¨ 6: –ü–û–õ–ù–´–ô FLOW –î–ê–ù–ù–´–•

```
1. –ü–ê–†–°–ò–ù–ì (Admin ‚Üí API ‚Üí Parser ‚Üí DB)
   
   Admin –∫–ª–∏–∫–∞–µ—Ç "–ó–∞–ø—É—Å—Ç–∏—Ç—å" 
   ‚Üí POST /api/v1/parser/start {options}
   ‚Üí –°–æ–∑–¥–∞–µ—Ç—Å—è parser_jobs –∑–∞–ø–∏—Å—å (status=pending)
   ‚Üí PHP –∑–∞–ø—É—Å–∫–∞–µ—Ç scripts/run-parser.php –≤ —Ñ–æ–Ω–µ
   ‚Üí SadovodParserService.run() —Å callback –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
   ‚Üí –ö–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ products —Ç–∞–±–ª–∏—Ü—É
   ‚Üí –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è excluded_rules
   ‚Üí –°–æ–∑–¥–∞—é—Ç—Å—è ai_tasks –µ—Å–ª–∏ AI –≤–∫–ª—é—á–µ–Ω
   ‚Üí Job –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (status=done)
   
2. –ü–†–û–°–ú–û–¢–† –ü–†–û–ì–†–ï–°–°–ê (Admin ‚Üí API ‚Üí DB)
   
   Admin –≤–∏–¥–∏—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å
   ‚Üí GET /api/v1/parser/status (polling 2s)
   ‚Üê {progress: 45, processedCount: 154, ...}
   ‚Üí –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: SSE —Å—Ç—Ä–∏–º –¥–ª—è real-time
   
3. –ü–†–û–°–ú–û–¢–† –¢–û–í–ê–†–û–í (Admin/User ‚Üí API ‚Üí DB)
   
   Admin –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç /admin/products
   ‚Üí GET /api/v1/products?category=jenskaya-odezhda&page=1
   ‚Üê {data: [...], meta: {total: 1240, ...}}
   
   User –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç /category/platya
   ‚Üí GET /api/v1/public/categories/platya/products?page=1
   ‚Üê {data: [...], meta: {...}}
   
4. –ò–°–ö–õ–Æ–ß–ï–ù–ò–Ø (Admin ‚Üí API ‚Üí DB + –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ)
   
   Admin –¥–æ–±–∞–≤–ª—è–µ—Ç "–¥—É–±–ª–∏—Ä—É—é" –≤ excluded
   ‚Üí POST /api/v1/excluded {word, type, action, scope}
   ‚Üí –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ excluded_rules
   ‚Üí POST /api/v1/excluded/apply
   ‚Üí –ü—Ä–æ–±–µ–≥–∞–µ—Ç –ø–æ –≤—Å–µ–º products, –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞
   ‚Üí –¢–æ–≤–∞—Ä—ã —Å —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è–º–∏: status=excluded –∏–ª–∏ title –∏–∑–º–µ–Ω–µ–Ω
   
5. –§–ò–õ–¨–¢–†–´ (Admin –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ ‚Üí User –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ)
   
   Admin –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   ‚Üí POST /api/v1/filters {attribute_id: "color", category_id: 1, display_type: "checkbox"}
   
   User —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –Ω–∞ CategoryPage
   ‚Üí GET /api/v1/public/facets?category=platya
   ‚Üê {color: ["–∫—Ä–∞—Å–Ω—ã–π", "—Å–∏–Ω–∏–π", ...], size: ["42", "44", ...], price: {min: 100, max: 5000}}
   ‚Üí GET /api/v1/public/products?category=platya&color=–∫—Ä–∞—Å–Ω—ã–π&price_min=500
   
6. –ü–õ–ê–ù–ò–†–û–í–©–ò–ö (Cron ‚Üí API ‚Üí Parser)
   
   Windows Task Scheduler / Linux cron:
   ‚Üí php C:\OSPanel\domains\sadavod\scripts\run-scheduler.php
   ‚Üí –ß–∏—Ç–∞–µ—Ç scheduler_tasks –∏–∑ –ë–î
   ‚Üí –ó–∞–ø—É—Å–∫–∞–µ—Ç –∑–∞–¥–∞—á–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
   ‚Üí –õ–æ–≥–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ parser_logs
   
7. AI –û–ë–†–ê–ë–û–¢–ö–ê (After parse ‚Üí AI ‚Üí Products updated)
   
   –ü–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è ai_tasks
   ‚Üí POST /api/v1/ai/batch-process
   ‚Üí –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞: OpenAI API –∑–∞–ø—Ä–æ—Å
   ‚Üí products.ai_title, products.ai_description –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
   ‚Üí –ù–∞ —Ñ—Ä–æ–Ω—Ç–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è AI –∫–æ–Ω—Ç–µ–Ω—Ç –µ—Å–ª–∏ –µ—Å—Ç—å
```

---

## üîê –ß–ê–°–¢–¨ 7: –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø

### JWT-based –¥–ª—è React admin
```
1. Admin: POST /api/v1/auth/login {username, password}
2. Server: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç users —Ç–∞–±–ª–∏—Ü—É, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT
3. Frontend: localStorage.setItem('admin_token', token)
4. –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã: Authorization: Bearer <token>
5. Server: –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç JWT –≤ AuthMiddleware
```

### –†–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞
```
–†–æ–ª—å "super_admin": –≤—Å–µ –ø—Ä–∞–≤–∞
–†–æ–ª—å "editor": –ø—Ä–æ–¥—É–∫—Ç—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –±—Ä–µ–Ω–¥—ã (–±–µ–∑ –ø–∞—Ä—Å–µ—Ä–∞ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
–†–æ–ª—å "viewer": —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ
```

---

## üîß –ß–ê–°–¢–¨ 8: .ENV –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

```ini
# C:\OSPanel\domains\sadavod\.env

# Database
DB_DRIVER=sqlite
DB_PATH=storage/database/sadavod.sqlite
# –∏–ª–∏ MySQL:
# DB_DRIVER=mysql
# DB_HOST=localhost
# DB_NAME=sadavod
# DB_USER=root
# DB_PASS=

# API
API_SECRET=your-super-secret-jwt-key-here
API_TOKEN_TTL=86400
CORS_ORIGINS=https://cheepy.siteaccess.ru,http://localhost:5173

# Parser
PARSER_BASE_URL=https://sadovodbaza.ru
PARSER_REQUEST_DELAY=500
PARSER_VERIFY_SSL=false
PARSER_USER_AGENT=Mozilla/5.0...

# AI
AI_ENABLED=false
AI_API_KEY=sk-...
AI_MODEL=gpt-4o-mini
AI_TOKEN_LIMIT=1000

# Admin
ADMIN_USERNAME=admin
ADMIN_PASSWORD_HASH=...  (bcrypt)

# Scheduler
SCHEDULER_ENABLED=true
```

---

## üîÑ –ß–ê–°–¢–¨ 9: –ò–°–ö–õ–Æ–ß–ï–ù–ò–Ø –ò –§–ò–õ–¨–¢–†–ê–¶–ò–Ø

### 9.1 –û–±—Ä–∞–±–æ—Ç–∫–∞ excluded_rules –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ
```php
class ExcludedService {
    public function applyRules(array $product, int $categoryId): array {
        $rules = $this->db->fetchAll(
            "SELECT * FROM excluded_rules WHERE enabled=1 
             AND (scope='global' OR (scope='category' AND category_id=?))",
            [$categoryId]
        );
        
        foreach ($rules as $rule) {
            $matches = $this->matchRule($rule, $product);
            if ($matches) {
                switch ($rule['action']) {
                    case 'delete':  return null;  // –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å
                    case 'hide':    $product['status'] = 'excluded'; break;
                    case 'replace': $product['title'] = str_ireplace(
                        $rule['word'], $rule['replacement'], $product['title']
                    ); break;
                    case 'flag':    $product['flagged'] = true; break;
                }
                $this->db->increment('excluded_rules', $rule['id'], 'match_count');
            }
        }
        return $product;
    }
    
    private function matchRule(array $rule, array $product): bool {
        $text = $product['title'] . ' ' . $product['description'];
        return match($rule['type']) {
            'word'   => str_word_match($rule['word'], $text),
            'phrase' => stripos($text, $rule['word']) !== false,
            'regex'  => (bool)preg_match($rule['word'], $text),
            default  => false,
        };
    }
}
```

### 9.2 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
```php
// –ü—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø—Ä–æ–≤–µ—Ä—è–µ–º parser_config –¥–ª—è –Ω–µ—ë:
$catConfig = db()->fetch(
    "SELECT parser_products_limit, parser_depth_limit 
     FROM categories WHERE external_slug = ?",
    [$slug]
);
if ($catConfig) {
    $limit = $catConfig['parser_products_limit'] ?: $globalLimit;
    $depth = $catConfig['parser_depth_limit'] ?: $globalDepth;
}
```

---

## üì± –ß–ê–°–¢–¨ 10: –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–ú–ò –°–¢–†–ê–ù–ò–¶–ê–ú–ò CHEEPY

### 10.1 CategoryPage.tsx ‚Äî —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
```typescript
// –í–º–µ—Å—Ç–æ mock –¥–∞–Ω–Ω—ã—Ö:
const { data, isLoading } = useQuery({
  queryKey: ['category-products', slug, page, viewMode, sortBy],
  queryFn: () => api.get(`/public/categories/${slug}/products`, {
    page, per_page: 20, sort: sortBy
  }),
});

// –§–∏–ª—å—Ç—Ä—ã —Å facets:
const { data: facets } = useQuery({
  queryKey: ['facets', slug],
  queryFn: () => api.get('/public/facets', { category: slug }),
});
```

### 10.2 ProductPage.tsx ‚Äî —Ä–µ–∞–ª—å–Ω—ã–π —Ç–æ–≤–∞—Ä
```typescript
const { id } = useParams();
const { data: product } = useQuery({
  queryKey: ['product', id],
  queryFn: () => api.get(`/public/products/${id}`),
});
```

### 10.3 SellerPage.tsx ‚Äî —Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–¥–∞–≤–µ—Ü
```typescript
const { data: seller } = useQuery({
  queryKey: ['seller', id],
  queryFn: () => api.get(`/public/sellers/${id}`),
});
const { data: products } = useQuery({
  queryKey: ['seller-products', id, page],
  queryFn: () => api.get(`/public/sellers/${id}/products`, { page }),
});
```

### 10.4 Index.tsx ‚Äî —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π
```typescript
const { data: hotDeals } = useQuery({
  queryKey: ['hot-deals'],
  queryFn: () => api.get('/public/featured?type=hot'),
  staleTime: 5 * 60 * 1000,
});

const { data: categories } = useQuery({
  queryKey: ['categories'],
  queryFn: () => api.get('/public/categories'),
});
```

---

## üìÖ –ß–ê–°–¢–¨ 11: –≠–¢–ê–ü–´ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –≠—Ç–∞–ø 1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–æ—É—Ç–µ—Ä (2-3 –¥–Ω—è)
- [ ] `app/Database/Database.php` ‚Äî PDO –æ–±–µ—Ä—Ç–∫–∞
- [ ] `app/Database/Schema.php` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
- [ ] `.env` —Ñ–∞–π–ª –∏ –ø–∞—Ä—Å–µ—Ä –∫–æ–Ω—Ñ–∏–≥–∞
- [ ] `app/Api/Router.php` ‚Äî HTTP —Ä–æ—É—Ç–µ—Ä
- [ ] `app/Api/Request.php` –∏ `Response.php`
- [ ] `app/Api/Middleware/CorsMiddleware.php`
- [ ] `public/api/v1/index.php` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
- [ ] `.htaccess` –¥–ª—è mod_rewrite

### –≠—Ç–∞–ø 2: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (1 –¥–µ–Ω—å)
- [ ] `app/Api/Middleware/AuthMiddleware.php`
- [ ] `app/Api/Controllers/AuthController.php`
- [ ] JWT –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ admin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –≠—Ç–∞–ø 3: Dashboard –∏ –ª–æ–≥–∏ (1 –¥–µ–Ω—å)
- [ ] `app/Api/Controllers/DashboardController.php`
- [ ] `app/Api/Controllers/LogsController.php`

### –≠—Ç–∞–ø 4: –ü–∞—Ä—Å–µ—Ä API (3-4 –¥–Ω—è)
- [ ] `app/Api/Controllers/ParserController.php`
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `scripts/run-parser.php` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü—ã products, categories, sellers
- [ ] Job management (parser_jobs —Ç–∞–±–ª–∏—Ü–∞)
- [ ] SSE endpoint –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### –≠—Ç–∞–ø 5: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏, –±—Ä–µ–Ω–¥—ã (2 –¥–Ω—è)
- [ ] `app/Api/Controllers/CategoriesController.php`
- [ ] `app/Api/Controllers/BrandsController.php`
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –ø–∞—Ä—Å–µ—Ä–æ–º

### –≠—Ç–∞–ø 6: –¢–æ–≤–∞—Ä—ã –∏ –ø—Ä–æ–¥–∞–≤—Ü—ã (2 –¥–Ω—è)
- [ ] `app/Api/Controllers/ProductsController.php`
- [ ] `app/Api/Controllers/SellersController.php`
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –ø–∞–≥–∏–Ω–∞—Ü–∏—è, –ø–æ–∏—Å–∫
- [ ] –≠–∫—Å–ø–æ—Ä—Ç CSV

### –≠—Ç–∞–ø 7: –ò—Å–∫–ª—é—á–µ–Ω–∏—è –∏ —Ñ–∏–ª—å—Ç—Ä—ã (2 –¥–Ω—è)
- [ ] `app/Api/Controllers/ExcludedController.php`
- [ ] `ExcludedService.php` ‚Äî –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª
- [ ] `app/Api/Controllers/FiltersController.php`
- [ ] Facets API –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### –≠—Ç–∞–ø 8: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (2 –¥–Ω—è)
- [ ] `app/Api/Controllers/SchedulerController.php`
- [ ] `scripts/run-scheduler.php`
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Task Scheduler / cron

### –≠—Ç–∞–ø 9: AI –º–æ–¥—É–ª—å (2 –¥–Ω—è)
- [ ] `app/Api/Controllers/AiController.php`
- [ ] OpenAI API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] –û—á–µ—Ä–µ–¥—å AI –∑–∞–¥–∞—á

### –≠—Ç–∞–ø 10: Settings –∏ Roles (1 –¥–µ–Ω—å)
- [ ] `app/Api/Controllers/SettingsController.php`
- [ ] `app/Api/Controllers/RolesController.php`

### –≠—Ç–∞–ø 11: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ React frontend (3-4 –¥–Ω—è)
- [ ] `src/lib/api.ts` ‚Äî API –∫–ª–∏–µ–Ω—Ç
- [ ] `src/hooks/admin/*.ts` ‚Äî —Ö—É–∫–∏ –¥–ª—è admin
- [ ] `src/hooks/public/*.ts` ‚Äî —Ö—É–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö admin —Å—Ç—Ä–∞–Ω–∏—Ü (–∑–∞–º–µ–Ω–∞ mock –Ω–∞ API)
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (CategoryPage, ProductPage, SellerPage)
- [ ] `.env.local` —Å VITE_API_URL

### –≠—Ç–∞–ø 12: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–ø–ª–æ–π (2 –¥–Ω—è)
- [ ] –¢–µ—Å—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –ë–î
- [ ] –¢–µ—Å—Ç –≤—Å–µ—Ö API endpoints
- [ ] –¢–µ—Å—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- [ ] –î–µ–ø–ª–æ–π –æ–±–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

---

## üåç –ß–ê–°–¢–¨ 12: –ù–ê–°–¢–†–û–ô–ö–ê –•–û–°–¢–ò–ù–ì–ê

### OSPanel (localhost)
```
–î–æ–º–µ–Ω: sadavod.loc ‚Üí C:\OSPanel\domains\sadavod\public
PHP 8.1+
SQLite –∏–ª–∏ MySQL

# –í .htaccess:
RewriteEngine On
RewriteRule ^api/v1/(.*)$ api/v1/index.php?_path=$1 [QSA,L]
```

### –î–µ–ø–ª–æ–π –Ω–∞ production (Beget)
```
sadavod.siteaccess.ru ‚Üí public/
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: MySQL (Beget –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç)
Cron: –≤ –ø–∞–Ω–µ–ª–∏ Beget –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É
```

### CORS –¥–ª—è React
```
cheepy.siteaccess.ru ‚Üí —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –≤ API
localhost:5173 ‚Üí —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```

---

## üìä –ß–ê–°–¢–¨ 13: –ó–ê–í–ò–°–ò–ú–û–°–¢–ò

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ (sadavod)
```json
{
  "require": {
    "guzzlehttp/guzzle": "^7.0",
    "symfony/dom-crawler": "^7.0",
    "symfony/css-selector": "^7.0"
  }
}
```

### –î–æ–±–∞–≤–∏—Ç—å
```json
{
  "require": {
    "firebase/php-jwt": "^6.0",
    "vlucas/phpdotenv": "^5.0",
    "openai-php/client": "^0.10"
  }
}
```

### React (cheepy) ‚Äî –¥–æ–±–∞–≤–∏—Ç—å
```json
{
  "@tanstack/react-query": "^5.0"
}
```

---

## ‚ö†Ô∏è –ß–ê–°–¢–¨ 14: –ö–õ–Æ–ß–ï–í–´–ï –†–ò–°–ö–ò –ò –†–ï–®–ï–ù–ò–Ø

| –†–∏—Å–∫ | –†–µ—à–µ–Ω–∏–µ |
|------|---------|
| –î–æ–ª–≥–∏–π –ø–∞—Ä—Å–∏–Ω–≥ –±–ª–æ–∫–∏—Ä—É–µ—Ç API | –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ + SSE/polling |
| –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ IP –Ω–∞ sadovodbaza.ru | request_delay_ms, —Ä–æ—Ç–∞—Ü–∏—è User-Agent |
| SSL –æ—à–∏–±–∫–∏ –Ω–∞ Windows | verify_ssl=false –≤ –∫–æ–Ω—Ñ–∏–≥–µ |
| –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ | UNIQUE –Ω–∞ external_id |
| –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ | –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ + check-relevance |
| –ë–æ–ª—å—à–æ–π –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö | –ü–∞–≥–∏–Ω–∞—Ü–∏—è, –∏–Ω–¥–µ–∫—Å—ã –≤ –ë–î |
| CORS –ø—Ä–æ–±–ª–µ–º—ã | CorsMiddleware —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ origins |
| –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞ AI | API –∫–ª—é—á –≤ .env, AI –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å |
| –ü–æ—Ç–µ—Ä—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ | parser_jobs —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ |

---

## üéØ –ò–¢–û–ì

–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç:
- **1 PHP Backend** (`sadavod.loc`) —Å REST API –Ω–∞ 15+ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö
- **14 —Ç–∞–±–ª–∏—Ü** SQLite/MySQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **70+ API endpoints** –¥–ª—è admin –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- **–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª**: –ø–∞—Ä—Å–∏–Ω–≥ ‚Üí —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è ‚Üí AI ‚Üí –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- **Real-time –ø—Ä–æ–≥—Ä–µ—Å—Å** —á–µ—Ä–µ–∑ SSE –∏–ª–∏ polling
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ** —á–µ—Ä–µ–∑ scheduler —Å cron –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏
- **–ò—Å–∫–ª—é—á–µ–Ω–∏—è** —Å 4 —Ç–∏–ø–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏–π –∏ 4 –æ–±–ª–∞—Å—Ç—è–º–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
- **–§–∏–ª—å—Ç—Ä—ã** —Å 4 —Ç–∏–ø–∞–º–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **React —Ö—É–∫–∏** –¥–ª—è –≤—Å–µ—Ö admin —Å—Ç—Ä–∞–Ω–∏—Ü –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- **JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** –¥–ª—è admin –ø–∞–Ω–µ–ª–∏
- **–≠–∫—Å–ø–æ—Ä—Ç** –¥–∞–Ω–Ω—ã—Ö –≤ CSV/JSON

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –ù–∞—á–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å –≠—Ç–∞–ø–∞ 1 ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–æ—É—Ç–µ—Ä–∞.
